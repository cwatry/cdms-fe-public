<div title="Toggle 'Favorite' status" class="fav-dataset">
    <a href='' ng-click="toggleFavorite()">
        <img id="favorite-active" ng-show="isFavorite" class="on" src='assets/images/favorite-on.png'/>
        <img id="favorite-inactive" ng-show="!isFavorite" class="off" src='assets/images/favorite-off.png'/>
    </a></div>

<ul class="breadcrumb">
    <li><a href="#!/projects">Projects</a> <span class="divider"></span> </li>
    <li><a href="#!/projects/{{project.Id}}">{{project.Name}}</a> <span class="divider"></span></li>
    <li class="active">{{dataset.Name}}</li>  
</ul>

<div ng-if="dataset.Datastore.Name == 'Appraisals'">
    <div ng-controller="AppraisalMapCtrl">
        <button style="margin-bottom: 15px;" type="button" ng-click="toggleMap()">{{ShowMap.Message}} <span ng-show="!ShowMap.Display" class="glyphicon glyphicon-circle-arrow-right"></span><span ng-show="ShowMap.Display" class="glyphicon glyphicon-circle-arrow-down"></span></button>
        <div ng-show="ShowMap.Display">
            <button class="btn btn-sm right" ng-click="clearAll()">Clear</button>
            <button ng-show="agGridOptions.selectedItems.length == 1" class="btn btn-sm right" style="margin-right: 10px;" ng-click="findSelection()">Find Selection on Map</button>
            <form ng-submit="searchParcel()">
                <div style="display: flex; margin-bottom: 20px;">
                    <input class="form-control" type="text" ng-model="SearchParcelId" placeholder="Parcel Id" /><button type="submit" class="btn btn-sm" style="height:30px;margin-top:5px;" ng-click="searchParcel()">Search</button>
                </div>
            </form>
            <appraisal-map class="claro" id="map" center="-118.45,45.56" zoom="4" onclick="click"></appraisal-map>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span2">

            <h4>{{dataset.Name}}</h4>
            <button project-role="editor" class="btn" ng-click="openDataEntry()">Enter data</button>
            <button project-role="editor" class="btn" ng-click="openImportWindow()">Import data</button>
            <button class="btn" ng-click="openQueryWindow()">Query/Export data</button>
            <button class="btn" ng-click="openDetailsWindow()">Metadata</button>
            <div class="right">
                <div ng-show="saveResults" style="float: left;">
                    <!--<div ng-click="saveResults=null" ng-show="saveResults.success" class="delete-error alert alert-success">Deleted</div>-->
                    <div ng-click="saveResults=null" ng-show="saveResults.success && (gridOptions.selectedItems.length === 0)" class="delete-error alert alert-success">Deleted</div>
                    <div ng-click="saveResults=null" ng-show="saveResults.failure" class="delete-error alert alert-danger">Error</div>
                </div>
                <button project-role="editor" class="btn right btn-warning" ng-show="agGridOptions.selectedItems.length > 0" ng-click="deleteActivities()">Delete {{agGridOptions.selectedItems.length}} Activities</button>

            </div>
    
            <div id="activity-list-grid" class="ag-theme-blue gridStyle-small"></div>

            Total Activities: {{activities.length}} <img ng-show="loading" src="assets/images/FishLoading.gif" />

        </div>
    </div>
</div>